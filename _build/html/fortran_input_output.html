

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>6. Input/Output &mdash; The Visual Room</title>
    
    <link rel="stylesheet" href="_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/print.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/theme_extras.js"></script>
    <link rel="top" title="The Visual Room" href="index.html" />
    <link rel="up" title="1. Fortran Programming Language" href="fortran.html" />
    <link rel="next" title="2. Using Fortran" href="fortran_use.html" />
    <link rel="prev" title="5. Intrinsic Procedures" href="fortran_procedures.html" /> 
  </head>
  <body>
      <div class="header"><h1 class="heading"><a href="index.html">
          <span>The Visual Room</span></a></h1>
        <h2 class="heading"><span>6. Input/Output</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        «&#160;&#160;<a href="fortran_procedures.html">5. Intrinsic Procedures</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="fortran_use.html">2. Using Fortran</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="input-output">
<h1>6. Input/Output<a class="headerlink" href="#input-output" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#print-statements" id="id1">Print Statements</a></li>
<li><a class="reference internal" href="#opening-closing-reading-from-and-writing-to-files" id="id2">Opening, Closing, Reading from and Writing to Files</a></li>
<li><a class="reference internal" href="#format-of-the-file" id="id3">Format of the File</a></li>
<li><a class="reference internal" href="#format-statements-print-read-write" id="id4">Format Statements (print, read, write)</a></li>
<li><a class="reference internal" href="#data-transfer-specifiers-read-write" id="id5">Data-Transfer Specifiers (Read, Write)</a></li>
<li><a class="reference internal" href="#i-o-specifiers" id="id6">I/O Specifiers</a><ul>
<li><a class="reference internal" href="#open-specifiers" id="id7">Open Specifiers</a></li>
<li><a class="reference internal" href="#close-specifiers" id="id8">Close Specifiers</a></li>
</ul>
</li>
<li><a class="reference internal" href="#reference-list" id="id9">Reference List</a><ul>
<li><a class="reference internal" href="#getarg-inquire-backspace-endfile-rewind-functions" id="id10">Getarg, Inquire, Backspace, Endfile, Rewind Functions</a></li>
<li><a class="reference internal" href="#inquire-specifiers" id="id11">Inquire Specifiers</a></li>
<li><a class="reference internal" href="#backspace-endfile-rewind-specifiers" id="id12">Backspace-, endfile-, rewind-specifiers</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="print-statements">
<h2><a class="toc-backref" href="#id1">6.1. Print Statements</a><a class="headerlink" href="#print-statements" title="Permalink to this headline">¶</a></h2>
<p>The print statement is used to send output to monitor - can use single or double quotes.</p>
<ul class="simple">
<li>The format statement of <tt class="docutils literal"><span class="pre">es22.15</span></tt> is typical for double precision, which is usually to 15 digits of precision. We have 22 character positions (including dot, exponent and 2 signs), so the largest number that could be printed is (which may depend on what we expect) - but this is nothing to do with machine precision:</li>
</ul>
<div class="highlight-fortran"><div class="highlight"><pre><span class="nv">most</span> <span class="nv">positive</span> <span class="o">=</span> <span class="o">+</span><span class="mf">9.999999999999999E+99</span>
<span class="nv">smallest</span> <span class="o">=</span> <span class="o">+</span><span class="mf">9.999999999999999E-99</span>
<span class="nv">most</span> <span class="nv">negative</span> <span class="o">=</span> <span class="o">-</span><span class="mf">9.999999999999999E+99</span>
</pre></div>
</div>
<ul class="simple">
<li>Choosing the format of integers may depend on what we expect - so if the maximum number of iterations is 50, we might choose <tt class="docutils literal"><span class="pre">i2</span></tt> which would cover this range - again this is nothing to do with machine precision of integers:</li>
</ul>
<div class="highlight-fortran"><div class="highlight"><pre><span class="nv">largest</span> <span class="o">=</span> <span class="mi">99</span>
<span class="nv">smallest</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="67%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Code</th>
<th class="head">Meaning</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="k">print</span> <span class="s1">&#39;(i10, es22.15)&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mf">1.0</span><span class="nv">d10</span>
<span class="k">print</span> <span class="s2">&quot;(i10, es22.15)&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mf">1.0</span><span class="nv">d10</span>
</pre></div>
</div>
</td>
<td><strong>Print to screen with format</strong>: integer with 10 digits, scientific number with 22 digits and 15 decimal places. Syntax is <tt class="docutils literal"><span class="pre">print</span> <span class="pre">format,</span> <span class="pre">list</span></tt></td>
</tr>
<tr class="row-odd"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="k">print </span><span class="mi">10</span><span class="p">,</span> <span class="nv">x</span><span class="p">,</span> <span class="nv">iterations</span>
<span class="mi">10</span> <span class="k">format</span><span class="p">(</span><span class="s2">&quot;solver returns x=&quot;</span><span class="p">,</span> <span class="nv">es22</span><span class="mf">.15</span><span class="p">,</span><span class="s2">&quot; after&quot;</span><span class="p">,</span> <span class="nv">i3</span><span class="p">,</span> <span class="s2">&quot; iterations&quot;</span><span class="p">)</span>

<span class="k">print </span><span class="mi">11</span><span class="p">,</span> <span class="nv">y</span><span class="p">,</span> <span class="nv">iterations</span>
<span class="mi">11</span> <span class="k">format</span><span class="p">(</span><span class="s1">&#39;solver returns y=&#39;</span><span class="p">,</span> <span class="nv">es22</span><span class="mf">.15</span><span class="p">,</span><span class="s1">&#39; after&#39;</span><span class="p">,</span> <span class="nv">i3</span><span class="p">,</span> <span class="s1">&#39; iterations&#39;</span><span class="p">)</span>
</pre></div>
</div>
</td>
<td><strong>Print to screen with format</strong> (for extra long lines)</td>
</tr>
<tr class="row-even"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="k">print</span> <span class="o">*</span><span class="p">,</span> <span class="s2">&quot;Velocity v=&quot;</span><span class="p">,</span> <span class="nv">v</span><span class="p">,</span> <span class="s2">&quot;m/s&quot;</span>
<span class="k">print</span> <span class="o">*</span><span class="p">,</span> <span class="s1">&#39;Velocity u=&#39;</span><span class="p">,</span> <span class="nv">v</span><span class="p">,</span> <span class="s1">&#39;m/s&#39;</span>
</pre></div>
</div>
</td>
<td><strong>List-directed I/O</strong> The asterisk (*) means print in a format compatible with the items in the list. Either double or single quotes may be used. Using undefined format will leave a blank space at the start (because in old Fortran this was column control). It&#8217;s probably always best to give a format anyway. The default print width for integers is 12 (with i) and it&#8217;s 25 for doubles (with es).</td>
</tr>
<tr class="row-odd"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="k">print</span> <span class="o">*</span><span class="p">,</span> <span class="s2">&quot;&quot;</span>
</pre></div>
</div>
</td>
<td><strong>Print a Blank Line</strong></td>
</tr>
<tr class="row-even"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="k">print</span> <span class="s2">&quot;(a)&quot;</span><span class="p">,</span> <span class="s2">&quot;x = &quot;</span>
<span class="k">do </span><span class="nv">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="nv">nx</span><span class="p">,</span> <span class="mi">1</span>
    <span class="k">print</span> <span class="s2">&quot;(11g12.4)&quot;</span><span class="p">,</span> <span class="nv">x</span><span class="p">(</span><span class="nv">i</span><span class="p">,</span> <span class="p">:)</span>
<span class="k">end do</span>
</pre></div>
</div>
</td>
<td><strong>Print an array</strong> - 11 columns wide, nx rows long</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="opening-closing-reading-from-and-writing-to-files">
<h2><a class="toc-backref" href="#id2">6.2. Opening, Closing, Reading from and Writing to Files</a><a class="headerlink" href="#opening-closing-reading-from-and-writing-to-files" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">In Fortran each file is associated with a <strong>unit number</strong>, an integer between 1 and 99.</p>
</li>
<li><p class="first">Some unit numbers are reserved (I usually start from 10):</p>
<blockquote>
<div><ul class="simple">
<li>5 is keyboard input</li>
<li>6 is keyboard output</li>
</ul>
</div></blockquote>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">iostat</span></tt> will be non-zero if there is an error - can be used to detect the type of error</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">err</span></tt> then specifies the line number with which to proceed should an error be encountered, perhaps to print to the screen. Error lables can start at 1.</p>
</li>
</ul>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="67%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Code</th>
<th class="head">Meaning</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="k">write</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;(i10, 2e22.15)&#39;</span><span class="p">,</span> <span class="nv">iostat</span><span class="o">=</span><span class="nv">write_error</span><span class="p">,</span> <span class="nv">err</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span> <span class="nv">n</span><span class="p">,</span> <span class="nv">velocity</span><span class="p">,</span> <span class="nv">pressure</span>
</pre></div>
</div>
</td>
<td><strong>Write list to unit</strong> <tt class="docutils literal"><span class="pre">write(unit,</span> <span class="pre">format,</span> <span class="pre">specifiers)</span> <span class="pre">list</span></tt></td>
</tr>
<tr class="row-odd"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="k">read</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;(i10, 2e22.15)&#39;</span><span class="p">,</span> <span class="nv">iostat</span><span class="o">=</span><span class="nv">read_error</span><span class="p">,</span> <span class="nv">err</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span> <span class="nv">n</span><span class="p">,</span> <span class="nv">velocity</span><span class="p">,</span> <span class="nv">pressure</span>
</pre></div>
</div>
</td>
<td><strong>Read list from unit</strong> <tt class="docutils literal"><span class="pre">read(unit,</span> <span class="pre">format,</span> <span class="pre">specifiers)</span> <span class="pre">list</span></tt></td>
</tr>
<tr class="row-even"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="k">open</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="nv">file</span><span class="o">=</span><span class="s1">&#39;data.txt&#39;</span><span class="p">,</span> <span class="nv">iostat</span><span class="o">=</span><span class="nv">open_error</span><span class="p">,</span> <span class="nv">status</span><span class="o">=</span><span class="s1">&#39;unknown&#39;</span><span class="p">,</span> <span class="nv">err</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
</pre></div>
</div>
</td>
<td><strong>Open file</strong> <tt class="docutils literal"><span class="pre">open(unit,</span> <span class="pre">specifiers)</span></tt></td>
</tr>
<tr class="row-odd"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="k">close</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="nv">iostat</span><span class="o">=</span><span class="nv">close_error</span><span class="p">,</span> <span class="nv">err</span><span class="o">=</span><span class="mi">40</span><span class="p">)</span>
</pre></div>
</div>
</td>
<td><strong>Close file</strong> <tt class="docutils literal"><span class="pre">close(unit,</span> <span class="pre">specifiers)</span></tt></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="format-of-the-file">
<h2><a class="toc-backref" href="#id3">6.3. Format of the File</a><a class="headerlink" href="#format-of-the-file" title="Permalink to this headline">¶</a></h2>
<p>Take the following read statement:</p>
<div class="highlight-fortran"><div class="highlight"><pre><span class="k">read</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;(i10, 2e22.15)&#39;</span><span class="p">,</span> <span class="nv">iostat</span><span class="o">=</span><span class="nv">read_error</span><span class="p">,</span> <span class="nv">err</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span> <span class="nv">n</span><span class="p">,</span> <span class="nv">velocity</span><span class="p">,</span> <span class="nv">pressure</span>
</pre></div>
</div>
<p>The format of the corresponding file must match with comma separated values, i.e.:</p>
<div class="highlight-fortran"><div class="highlight"><pre><span class="mi">1</span><span class="p">,</span> <span class="mi">20</span><span class="mf">0.0</span><span class="p">,</span> <span class="mi">35</span><span class="mf">0.0</span>
</pre></div>
</div>
</div>
<div class="section" id="format-statements-print-read-write">
<h2><a class="toc-backref" href="#id4">6.4. Format Statements (print, read, write)</a><a class="headerlink" href="#format-statements-print-read-write" title="Permalink to this headline">¶</a></h2>
<p>The key to format statements:</p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="67%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Code</th>
<th class="head">Meaning</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nv">w</span>
</pre></div>
</div>
</td>
<td>Full length</td>
</tr>
<tr class="row-odd"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nv">m</span>
</pre></div>
</div>
</td>
<td>Minimum digits</td>
</tr>
<tr class="row-even"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nv">d</span>
</pre></div>
</div>
</td>
<td>Decimal places</td>
</tr>
<tr class="row-odd"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nv">e</span>
</pre></div>
</div>
</td>
<td>Exponent length</td>
</tr>
<tr class="row-even"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nv">n</span>
</pre></div>
</div>
</td>
<td>Positions to skip</td>
</tr>
<tr class="row-odd"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nv">c</span>
</pre></div>
</div>
</td>
<td>Positions to move</td>
</tr>
<tr class="row-even"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nv">r</span>
</pre></div>
</div>
</td>
<td>Repetitions</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="67%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Code</th>
<th class="head">Meaning</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="k">format</span> <span class="o">=</span> <span class="s2">&quot;(F10.3, A, ES14.7)&quot;</span>
</pre></div>
</div>
</td>
<td>Format string</td>
</tr>
<tr class="row-odd"><td><div class="first last highlight-fortran"><pre>Iw Iw.m</pre>
</div>
</td>
<td>Integer form</td>
</tr>
<tr class="row-even"><td><div class="first last highlight-fortran"><pre>Bw.m Ow.m Zw.m</pre>
</div>
</td>
<td>Binary, octal, hex integer form</td>
</tr>
<tr class="row-odd"><td><div class="first last highlight-fortran"><pre>Fw.d</pre>
</div>
</td>
<td>Decimal form real format</td>
</tr>
<tr class="row-even"><td><div class="first last highlight-fortran"><pre>Ew.d</pre>
</div>
</td>
<td>Exponential form (0.12..E-11)</td>
</tr>
<tr class="row-odd"><td><div class="first last highlight-fortran"><pre>Ew.dEe</pre>
</div>
</td>
<td>Specified exponent length</td>
</tr>
<tr class="row-even"><td><div class="first last highlight-fortran"><pre>ESw.d ESw.dEe</pre>
</div>
</td>
<td>Scientific form (1.2...E-10)</td>
</tr>
<tr class="row-odd"><td><div class="first last highlight-fortran"><pre>ENw.d ENw.dEe</pre>
</div>
</td>
<td>Engineering form (123.4...E-12)</td>
</tr>
<tr class="row-even"><td><div class="first last highlight-fortran"><pre>Gw.d</pre>
</div>
</td>
<td>Generalized form</td>
</tr>
<tr class="row-odd"><td><div class="first last highlight-fortran"><pre>Gw.dEe</pre>
</div>
</td>
<td>Generalized exponent form</td>
</tr>
<tr class="row-even"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nv">Lw</span>
</pre></div>
</div>
</td>
<td>Logical format (T, F)</td>
</tr>
<tr class="row-odd"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nv">A</span> <span class="nv">Aw</span>
</pre></div>
</div>
</td>
<td>Characters format</td>
</tr>
<tr class="row-even"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nv">nX</span>
</pre></div>
</div>
</td>
<td>Horizontal positioning (skip)</td>
</tr>
<tr class="row-odd"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nv">Tc</span> <span class="nv">TLc</span> <span class="nv">TRc</span>
</pre></div>
</div>
</td>
<td>Move (absolute, left, right)</td>
</tr>
<tr class="row-even"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nv">r</span><span class="o">/</span>
</pre></div>
</div>
</td>
<td>Vert. positioning (skip lines)</td>
</tr>
<tr class="row-odd"><td><div class="first last highlight-fortran"><pre>r(...)</pre>
</div>
</td>
<td>Grouping / repetition</td>
</tr>
<tr class="row-even"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="p">:</span>
</pre></div>
</div>
</td>
<td>Format scanning control</td>
</tr>
<tr class="row-odd"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nv">S</span> <span class="nv">SP</span> <span class="nv">SS</span>
</pre></div>
</div>
</td>
<td>Sign control</td>
</tr>
<tr class="row-even"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nv">BN</span> <span class="nv">BZ</span>
</pre></div>
</div>
</td>
<td>Blank control (blanks as zeros)</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="data-transfer-specifiers-read-write">
<h2><a class="toc-backref" href="#id5">6.5. Data-Transfer Specifiers (Read, Write)</a><a class="headerlink" href="#data-transfer-specifiers-read-write" title="Permalink to this headline">¶</a></h2>
<p>Important specifiers are in <strong>bold</strong>, typical example:</p>
<div class="highlight-fortran"><div class="highlight"><pre><span class="k">write</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;(i10, e22.15, e15.6)&#39;</span><span class="p">,</span> <span class="nv">iostat</span><span class="o">=</span><span class="nv">write_error</span><span class="p">,</span> <span class="nv">err</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span> <span class="nv">n</span><span class="p">,</span> <span class="nv">velocity</span><span class="p">,</span> <span class="nv">pressure</span>

<span class="k">read</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;(i10, e22.15, e15.6)&#39;</span><span class="p">,</span> <span class="nv">iostat</span><span class="o">=</span><span class="nv">read_error</span><span class="p">,</span> <span class="nv">err</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span> <span class="nv">n</span><span class="p">,</span> <span class="nv">velocity</span><span class="p">,</span> <span class="nv">pressure</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="67%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Code</th>
<th class="head">Meaning</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nv">iostat</span><span class="o">=</span><span class="nv">integer_variable</span>
</pre></div>
</div>
</td>
<td><strong>Save iocode (error) to variable</strong></td>
</tr>
<tr class="row-odd"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nv">err</span><span class="o">=</span><span class="nv">label</span>
</pre></div>
</div>
</td>
<td><strong>Label to jump to on error</strong></td>
</tr>
<tr class="row-even"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nv">advance</span><span class="o">=</span><span class="s1">&#39;yes&#39;</span>
<span class="nv">advance</span><span class="o">=</span><span class="s1">&#39;no&#39;</span>
</pre></div>
</div>
</td>
<td>(Non-)advancing data transfer</td>
</tr>
<tr class="row-odd"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="k">end</span><span class="o">=</span><span class="nv">label</span>
</pre></div>
</div>
</td>
<td>Label to jump to on end of file</td>
</tr>
<tr class="row-even"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nv">eor</span><span class="o">=</span><span class="nv">label</span>
</pre></div>
</div>
</td>
<td>Label for end of record</td>
</tr>
<tr class="row-odd"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nv">rec</span><span class="o">=</span><span class="nv">integer_variable</span>
</pre></div>
</div>
</td>
<td>Record number to read or write</td>
</tr>
<tr class="row-even"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nv">size</span><span class="o">=</span><span class="nv">integer_variable</span>
</pre></div>
</div>
</td>
<td>Number of characters read</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="i-o-specifiers">
<h2><a class="toc-backref" href="#id6">6.6. I/O Specifiers</a><a class="headerlink" href="#i-o-specifiers" title="Permalink to this headline">¶</a></h2>
<div class="section" id="open-specifiers">
<h3><a class="toc-backref" href="#id7">6.6.1. Open Specifiers</a><a class="headerlink" href="#open-specifiers" title="Permalink to this headline">¶</a></h3>
<p>Important specifiers are in <strong>bold</strong>, typical example:</p>
<div class="highlight-fortran"><div class="highlight"><pre><span class="k">open</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="nv">file</span><span class="o">=</span><span class="s1">&#39;data.txt&#39;</span><span class="p">,</span> <span class="nv">iostat</span><span class="o">=</span><span class="nv">open_error</span><span class="p">,</span> <span class="nv">status</span><span class="o">=</span><span class="s1">&#39;unknown&#39;</span><span class="p">,</span> <span class="nv">err</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="67%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Code</th>
<th class="head">Meaning</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nv">file</span><span class="o">=</span><span class="s1">&#39;filename&#39;</span>
</pre></div>
</div>
</td>
<td><strong>Name of file to open</strong>, e.g. <tt class="docutils literal"><span class="pre">file</span> <span class="pre">=</span> <span class="pre">'data.txt'</span></tt> (if it&#8217;s in the same directory as the complied code)</td>
</tr>
<tr class="row-odd"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nv">iostat</span><span class="o">=</span><span class="nv">integer_variable</span>
</pre></div>
</div>
</td>
<td><strong>Save iocode (error) to variable</strong>, e.g. <tt class="docutils literal"><span class="pre">iostat</span> <span class="pre">=</span> <span class="pre">open_error</span></tt></td>
</tr>
<tr class="row-even"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nv">status</span><span class="o">=</span><span class="s1">&#39;old&#39;</span>
<span class="nv">status</span><span class="o">=</span><span class="s1">&#39;new&#39;</span>
<span class="nv">status</span><span class="o">=</span><span class="s1">&#39;replace&#39;</span>
<span class="nv">status</span><span class="o">=</span><span class="s1">&#39;scratch&#39;</span>
<span class="nv">status</span><span class="o">=</span><span class="s1">&#39;unknown&#39;</span>
</pre></div>
</div>
</td>
<td><strong>Status of input file</strong>, e.g. <tt class="docutils literal"><span class="pre">status='unknown'</span></tt></td>
</tr>
<tr class="row-odd"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nv">err</span><span class="o">=</span><span class="nv">label</span>
</pre></div>
</div>
</td>
<td><strong>Label to jump to on error</strong></td>
</tr>
<tr class="row-even"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nb">access</span><span class="o">=</span><span class="s1">&#39;sequential&#39;</span>
<span class="nb">access</span><span class="o">=</span><span class="s1">&#39;direct&#39;</span>
</pre></div>
</div>
</td>
<td>Access method</td>
</tr>
<tr class="row-odd"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nv">form</span><span class="o">=</span><span class="s1">&#39;formatted&#39;</span>
<span class="nv">form</span><span class="o">=</span><span class="s1">&#39;unformatted&#39;</span>
</pre></div>
</div>
</td>
<td>Formatted/unformatted I/O</td>
</tr>
<tr class="row-even"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nv">recl</span><span class="o">=</span><span class="nv">integer_variable</span>
</pre></div>
</div>
</td>
<td>Length of record</td>
</tr>
<tr class="row-odd"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nv">blank</span><span class="o">=</span><span class="s1">&#39;null&#39;</span>
<span class="nv">blank</span><span class="o">=</span><span class="s1">&#39;zero&#39;</span>
</pre></div>
</div>
</td>
<td>Ignore blanks/treat them as 0</td>
</tr>
<tr class="row-even"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nb">access</span><span class="o">=</span><span class="s1">&#39;sequential&#39;</span>
<span class="nb">access</span><span class="o">=</span><span class="s1">&#39;direct&#39;</span>
</pre></div>
</div>
</td>
<td>Access method</td>
</tr>
<tr class="row-odd"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nv">position</span><span class="o">=</span><span class="s1">&#39;asis&#39;</span>
<span class="nv">position</span><span class="o">=</span><span class="s1">&#39;rewind&#39;</span>
<span class="nv">position</span><span class="o">=</span><span class="s1">&#39;append&#39;</span>
</pre></div>
</div>
</td>
<td>Position, if sequential I/O</td>
</tr>
<tr class="row-even"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nv">action</span><span class="o">=</span><span class="s1">&#39;read&#39;</span>
<span class="nv">action</span><span class="o">=</span><span class="s1">&#39;write&#39;</span>
<span class="nv">action</span><span class="o">=</span><span class="s1">&#39;readwrite&#39;</span>
</pre></div>
</div>
</td>
<td>Read/write mode</td>
</tr>
<tr class="row-odd"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nv">delim</span><span class="o">=</span><span class="s1">&#39;quote&#39;</span>
<span class="nv">delim</span><span class="o">=</span><span class="s1">&#39;apostrophe&#39;</span>
<span class="nv">delim</span><span class="o">=</span><span class="s1">&#39;none&#39;</span>
</pre></div>
</div>
</td>
<td>Delimiter for char constants</td>
</tr>
<tr class="row-even"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nv">pad</span><span class="o">=</span><span class="s1">&#39;yes&#39;</span>
<span class="nv">pad</span><span class="o">=</span><span class="s1">&#39;no&#39;</span>
</pre></div>
</div>
</td>
<td>Pad with blanks</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="close-specifiers">
<h3><a class="toc-backref" href="#id8">6.6.2. Close Specifiers</a><a class="headerlink" href="#close-specifiers" title="Permalink to this headline">¶</a></h3>
<p>Important specifiers are in <strong>bold</strong>, typical example (to close the file we opened, with unit <tt class="docutils literal"><span class="pre">10</span></tt>):</p>
<div class="highlight-fortran"><div class="highlight"><pre><span class="k">close</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="nv">iostat</span><span class="o">=</span><span class="nv">close_error</span><span class="p">,</span> <span class="nv">err</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="67%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Code</th>
<th class="head">Meaning</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nv">iostat</span>
</pre></div>
</div>
</td>
<td><strong>Save iocode (error) to variable</strong></td>
</tr>
<tr class="row-odd"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nv">err</span>
</pre></div>
</div>
</td>
<td><strong>Label to jump to on error</strong></td>
</tr>
<tr class="row-even"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nv">status</span><span class="o">=</span><span class="s1">&#39;keep&#39;</span>
<span class="nv">status</span><span class="o">=</span><span class="s1">&#39;delete&#39;</span>
</pre></div>
</div>
</td>
<td>Status of closed file</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="reference-list">
<h2><a class="toc-backref" href="#id9">6.7. Reference List</a><a class="headerlink" href="#reference-list" title="Permalink to this headline">¶</a></h2>
<p>This contains commands I haven&#8217;t used, but maybe useful for translation/understanding.</p>
<div class="section" id="getarg-inquire-backspace-endfile-rewind-functions">
<h3><a class="toc-backref" href="#id10">6.7.1. Getarg, Inquire, Backspace, Endfile, Rewind Functions</a><a class="headerlink" href="#getarg-inquire-backspace-endfile-rewind-functions" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="67%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Code</th>
<th class="head">Meaning</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="k">call </span><span class="nb">getarg</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="nv">var</span><span class="p">)</span>
</pre></div>
</div>
</td>
<td>Put 2nd CLI-argument in var</td>
</tr>
<tr class="row-odd"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="k">inquire</span><span class="p">(</span><span class="nv">unit</span><span class="p">,</span> <span class="nv">spec</span><span class="p">)</span>
</pre></div>
</div>
</td>
<td>Inquiry by unit</td>
</tr>
<tr class="row-even"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="k">inquire</span><span class="p">(</span><span class="nv">file</span><span class="o">=</span><span class="nv">filename</span><span class="p">,</span> <span class="nv">spec</span><span class="p">)</span>
</pre></div>
</div>
</td>
<td>Inquiry by filename</td>
</tr>
<tr class="row-odd"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="k">inquire</span><span class="p">(</span><span class="nv">iolength</span><span class="o">=</span><span class="nv">iol</span><span class="p">)</span> <span class="nv">outlist</span>
</pre></div>
</div>
</td>
<td>Inquiry by output item list</td>
</tr>
<tr class="row-even"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="k">backspace</span><span class="p">(</span><span class="nv">unit</span><span class="p">,</span> <span class="nv">spec</span><span class="p">)</span>
</pre></div>
</div>
</td>
<td>Go back one record</td>
</tr>
<tr class="row-odd"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nv">endfile</span><span class="p">(</span><span class="nv">unit</span><span class="p">,</span> <span class="nv">spec</span><span class="p">)</span>
</pre></div>
</div>
</td>
<td>Write eof record</td>
</tr>
<tr class="row-even"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="k">rewind</span><span class="p">(</span><span class="nv">unit</span><span class="p">,</span> <span class="nv">spec</span><span class="p">)</span>
</pre></div>
</div>
</td>
<td>Jump to beginning of file</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="inquire-specifiers">
<h3><a class="toc-backref" href="#id11">6.7.2. Inquire Specifiers</a><a class="headerlink" href="#inquire-specifiers" title="Permalink to this headline">¶</a></h3>
<p>I haven&#8217;t used these</p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="67%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Code</th>
<th class="head">Meaning</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nb">access</span>
</pre></div>
</div>
</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nv">action</span>
</pre></div>
</div>
</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nv">blank</span>
</pre></div>
</div>
</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nv">delim</span>
</pre></div>
</div>
</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nv">direct</span>
</pre></div>
</div>
</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nv">exist</span>
</pre></div>
</div>
</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nv">form</span>
</pre></div>
</div>
</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nv">formatted</span>
</pre></div>
</div>
</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nv">iostat</span>
</pre></div>
</div>
</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nv">name</span>
</pre></div>
</div>
</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nv">named</span>
</pre></div>
</div>
</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nv">nextrec</span>
</pre></div>
</div>
</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nv">number</span>
</pre></div>
</div>
</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nv">opened</span>
</pre></div>
</div>
</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nv">pad</span>
</pre></div>
</div>
</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nv">position</span>
</pre></div>
</div>
</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="k">read</span>
</pre></div>
</div>
</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nv">readwrite</span>
</pre></div>
</div>
</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nv">recl</span>
</pre></div>
</div>
</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nv">sequential</span>
</pre></div>
</div>
</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nv">unformatted</span>
</pre></div>
</div>
</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="k">write</span>
</pre></div>
</div>
</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nv">iolength</span>
</pre></div>
</div>
</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="backspace-endfile-rewind-specifiers">
<h3><a class="toc-backref" href="#id12">6.7.3. Backspace-, endfile-, rewind-specifiers</a><a class="headerlink" href="#backspace-endfile-rewind-specifiers" title="Permalink to this headline">¶</a></h3>
<p>I haven&#8217;t used these</p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="67%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Code</th>
<th class="head">Meaning</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nv">iostat</span>
</pre></div>
</div>
</td>
<td>Save iocode (error) to variable</td>
</tr>
<tr class="row-odd"><td><div class="first last highlight-fortran"><div class="highlight"><pre><span class="nv">err</span>
</pre></div>
</div>
</td>
<td>Label to jump to on error</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


      </div>
      <div class="bottomnav">
      
        <p>
        «&#160;&#160;<a href="fortran_procedures.html">5. Intrinsic Procedures</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="fortran_use.html">2. Using Fortran</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer">
        &copy; Copyright 2014, Andrew Roberts.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>